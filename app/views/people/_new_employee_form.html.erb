<div class="container">
<%= simple_nested_form_for @person, :html => { :class => 'form-horizontal' } do |f| %>
<%= hidden_field_tag :type, @type %> 
  <div class="accordion" id="accordion">

    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#basicInfo">
          Basic Information
        </a>
      </div>
      <div style="height: 0;" id="basicInfo" class="accordion-body collapse">
        <div class="accordion-inner">

<div class = "row">
        <div class = "span8">
          <p> First Name, Last Name </p>
          <p> <%= f.text_field :first_name %> <%= f.text_field :last_name %> </p>
        </div>
</div>

<div class = "row">

        <div class = "span4">
          <p> Date of Birth </p>
          <p> <%= f.text_field :DOB, :placeholder => "YYYY-MM-DD" %> </p>
        </div>

        <div class = "span4">
          <p> Gender </p>
          <p> <%=f.select :gender , [['Select', nil],['Male',true],['Female',false]] %> </p>
        </div>
</div>

<div class = "row">

  <table id ="addr", class = "span10 table table-striped">
              <%= f.simple_fields_for :addresses do |address_form| %>
          <%= render :partial => "address_fields", :locals => { :f => address_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Address"), :addresses, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>
        </div></div></div>

    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#contactInfo">
          Contact Information
        </a>
      </div>
      <div style="height: 0;" id="contactInfo" class="accordion-body collapse">
        <div class="accordion-inner">

<div class = "row">
        <div class = "span8">
          <p> Email </p>
          <p> <%= f.text_field :email %> </p>
        </div>
</div>
<h3> Phone Numbers </h3>
<div class = "row">

  <table id ="phone_numbers", class = "span12 table table-striped">
        <%= f.simple_fields_for :phone_numbers do |phone_number_form| %>
          <%= render :partial => "phone_number_fields", :locals => { :f => phone_number_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Phone Number"), :phone_numbers, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>

        </div></div></div>

    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#availabilityInfo">
          Availability Information
        </a>
      </div>
      <div style="height: 0;" id="availabilityInfo" class="accordion-body collapse">
        <div class="accordion-inner">

                  <h3> Availability </h3>

<div class = "row">

  <table id ="availabilities", class = "span12 table table-striped">
        <%= f.simple_fields_for :availabilities do |availabilities_form| %>
          <%= render :partial => "availability_fields", :locals => { :f => availabilities_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Availability"), :availabilities, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>

        </div></div></div>        

    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#formInfo">
          Form Information
        </a>
      </div>
      <div style="height: 0;" id="formInfo" class="accordion-body collapse">
        <div class="accordion-inner">

                  <h3> Emergency Contacts </h3>

<div class = "row">

  <table id ="emergency_contacts", class = "span12 table table-striped">
        <%= f.simple_fields_for :emergency_contacts do |emergency_contact_form| %>
          <%= render :partial => "emergency_contact_fields", :locals => { :f => emergency_contact_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Emergency Contact"), :emergency_contacts, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>

        </div></div></div>        

</div>

</div>

<%= f.submit nil, :class => 'btn btn-primary' %>
<% end %>


