<div class="container">
<%= simple_nested_form_for @person, :html => { :class => 'form-horizontal' } do |f| %>
  <div class="accordion" id="accordion">

    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#basicStudentInfo">
          Student Information
        </a>
      </div>
      <div style="height: 0;" id="basicStudentInfo" class="accordion-body collapse">
        <div class="accordion-inner">

<div class = "row">
        <div class = "span8">
          <p> First Name, Last Name </p>
          <p> <%= f.text_field :first_name %> <%= f.text_field :last_name %> </p>
        </div>
        <div class = "span3">
          <p> Gender </p>
          <p> <%=f.select :gender , [['Select', nil],['Male',true],['Female',false]] %> </p>
        </div>
</div>

<div class = "row">

        <div class = "span4">
          <p> Date of Birth </p>
          <p> <%= f.text_field :DOB, :placeholder => "YYYY-MM-DD" %> </p>
        </div>

        <div class = "span4">
          <p> Race</p>
          <p> <%= f.select(:race,
                    [['Not Selected', nil],
                     ['African American', 'african american'],
                     ['Asian/Pacific Islander', 'asian'],
                     ['Caucasian', 'caucasian'],
                     ['Hispanic', 'hispanic'],
                     ['Native American', 'native american'],
                     ['Other', 'other']] )  %> </p>
        </div>

        <div class = "span3">
          <p> In Foster Care? </p>
          <p> <%=f.check_box :in_foster_care %> </p>
        </div>
</div>

<div class = "row">
        <div class = "span4">
          <p> Number of Members in Household </p>
          <p> <%= f.text_field :household_number_of_members %> </p>
        </div>

        <div class = "span4">
          <p> School Lunch Program </p>
          <p> <%= f.select :school_lunch_program, [['Not Selected', nil],['Free Lunch','free'],['Reduced Lunch','reduced'], ['Does Not Qualify', 'does not qualify']] %> </p>
        </div>

        <div class = "span3">
          <p> Vegetarian? </p>
          <p> <%= f.check_box :vegetarian %> </p>
        </div>
</div>


<div class = "row">

  <table id ="addr", class = "span10 table table-striped">
              <%= f.simple_fields_for :addresses do |address_form| %>
          <%= render :partial => "address_fields", :locals => { :f => address_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Address"), :addresses, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>
        </div></div></div>

    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#contactInfo">
          Contact Information
        </a>
      </div>
      <div style="height: 0;" id="contactInfo" class="accordion-body collapse">
        <div class="accordion-inner">

<div class = "row">
        <div class = "span8">
          <p> Email </p>
          <p> <%= f.text_field :email %> </p>
        </div>
</div>
<h3> Phone Numbers </h3>
<div class = "row">

  <table id ="phone_numbers", class = "span12 table table-striped">
        <%= f.simple_fields_for :phone_numbers do |phone_number_form| %>
          <%= render :partial => "phone_number_fields", :locals => { :f => phone_number_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Phone Number"), :phone_numbers, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>

        </div></div></div>


    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#schoolInfo">
          School Information
        </a>
      </div>
      <div style="height: 0;" id="schoolInfo" class="accordion-body collapse">
        <div class="accordion-inner">

<div class = "row">
        <div class = "span8">
          <p> Current Grade in School </p>
          <p> <%= f.text_field :grade %> </p>
        </div>
</div>
<h3> Schools </h3>
<div class = "row">

  <table id ="schools", class = "span12 table table-striped">
              <%= f.simple_fields_for :person_schools do |person_school_form| %>
          <%= render :partial => "person_school_fields", :locals => { :f => person_school_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add School"), :person_schools, :class => 'btn btn-mini btn-primary') %>
      
        </p>
</div>
        </div></div></div>

    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#medicalInfo">
          Medical Information
        </a>
      </div>
      <div style="height: 0;" id="medicalInfo" class="accordion-body collapse">
        <div class="accordion-inner">

                  <h3> Allergies </h3>

<div class = "row">

  <table id ="allergies", class = "span12 table table-striped">
              <%= f.simple_fields_for :person_allergies do |person_allergy_form| %>
          <%= render :partial => "person_allergy_fields", :locals => { :f => person_allergy_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Allergy"), :person_allergies, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>

                  <h3> Medications </h3>

<div class = "row">

  <table id ="medications", class = "span12 table table-striped">
              <%= f.simple_fields_for :person_medications do |person_medication_form| %>
          <%= render :partial => "person_medication_fields", :locals => { :f => person_medication_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Medication"), :person_medications, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>

                  <h3> Support Services </h3>

<div class = "row">

  <table id ="supports", class = "span12 table table-striped">
              <%= f.simple_fields_for :person_supports do |person_support_form| %>
          <%= render :partial => "person_support_fields", :locals => { :f => person_support_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Support"), :person_supports, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>

        </div></div></div>

    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#emergencycontactInfo">
          Emergency Contacts
        </a>
      </div>
      <div style="height: 0;" id="emergencycontactInfo" class="accordion-body collapse">
        <div class="accordion-inner">

                  <h3> Emergency Contacts </h3>

<div class = "row">

  <table id ="emergency_contacts", class = "span12 table table-striped">
              <%= f.simple_fields_for :emergency_contacts do |emergency_contact_form| %>
          <%= render :partial => "emergency_contact_fields", :locals => { :f => emergency_contact_form } %>
        <% end %> 

  </table>  
        <p>
          <br /><%= f.link_to_add(raw("<i class='icon-plus icon-white'></i> Add Emergency Contact"), :emergency_contacts, :class => 'btn btn-mini btn-primary') %>
        </p>
</div>

        </div></div></div>        

</div>

</div>

<%= f.submit nil, :class => 'btn btn-primary' %>
<% end %>